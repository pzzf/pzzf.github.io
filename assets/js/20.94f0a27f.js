(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{521:function(e,s,a){"use strict";a.r(s);var v=a(12),t=Object(v.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("mysql理论篇  善良的")]),e._v(" "),a("p",[e._v("mysql分为server层以及存储引擎两部分。")]),e._v(" "),a("p",[e._v("Server层大致分为：连接器、查询缓存、分析器、执行器")]),e._v(" "),a("p",[e._v("存储引擎主要负责数据存储以及读取。支持InnoDB、Myisam、Memory等多个引擎，现在最常用的引擎为InnoDB，自Mysql5.5.5成为默认的存储引擎")]),e._v(" "),a("h1",{attrs:{id:"server层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server层"}},[e._v("#")]),e._v(" Server层")]),e._v(" "),a("h2",{attrs:{id:"连接器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接器"}},[e._v("#")]),e._v(" 连接器")]),e._v(" "),a("p",[e._v("负责与客户端建立连接、获取权限、维持和管理连接：连接命令为"),a("code",[e._v("mysql -hIP -Pport -u username -p password")])]),e._v(" "),a("p",[e._v("如果这个连接太长时间没有操作，则默认8小时自动断开")]),e._v(" "),a("h2",{attrs:{id:"查询缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询缓存"}},[e._v("#")]),e._v(" 查询缓存")]),e._v(" "),a("p",[e._v("Mysql拿到一个查询语句之后，会先到查询缓存中去看看。之前是否执行过该语句，之前执行过的Mysql语句及其结果可能会以key-value的形式被直接存储到内存中，key为查询语句，value为查询结果。如果可以在缓存中找到这个key，那么这个value会直接返回给客户端。")]),e._v(" "),a("p",[e._v("如果没有查到结果，则会执行下面流程，然后会将结果存储到缓存中。")]),e._v(" "),a("p",[e._v("通常不建议使用查询缓存：查询缓存的失效时非常频繁的，只要有对一个表的更新，这张表上的所有查询缓存就会被清空。")]),e._v(" "),a("p",[e._v("除非业务表为静态表，这张表才适合使用查询缓存。")]),e._v(" "),a("p",[e._v("按需使用查询缓存")]),e._v(" "),a("p",[e._v("将参数"),a("code",[e._v("query_cache_type")]),e._v("设置成"),a("code",[e._v("DEMAND")]),e._v(",这样对默认的sql语句都不使用查询缓存，可以在sql中指定，sql语句为 "),a("code",[e._v("select SQL_CACHE * from table where id=10")])]),e._v(" "),a("p",[e._v("需要值得注意的地方是："),a("strong",[e._v("mysql8.0已将整个查询缓存模块给删除了")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"分析器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析器"}},[e._v("#")]),e._v(" 分析器")]),e._v(" "),a("p",[e._v("1、词法分析\nselect 查询")]),e._v(" "),a("p",[e._v("2、语法分析")]),e._v(" "),a("h2",{attrs:{id:"优化器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化器"}},[e._v("#")]),e._v(" 优化器")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("假如表中多有多个索引，决定优先使用哪个索引\n一个多表联查的时候，决定各个表的连接顺序，同一条sql可能有多个sql分析结果，执行效率不同，优化器决定使用哪一个方案。\n")])])]),a("h2",{attrs:{id:"执行器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行器"}},[e._v("#")]),e._v(" 执行器")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("通过优化器就知道了应该怎么做，于是就进入了执行器阶段，开始执行语句。\n1、判断你对这个表有没有执行权限，如果没有返回，没有权限的提示\n")])])])])}),[],!1,null,null,null);s.default=t.exports}}]);